import requests
import urllib

obaRequest = "eyJhbGciOiJQUzUxMiIsInR5cCI6IkpXVCIsImtpZCI6ImZkYzAzZmJlLWExOTAtNDFlZS1iNDk2LWE1ODRmM2Y0YTZkMiJ9.eyJyZXF1ZXN0IjoiZXlKaGJHY2lPaUpRVXpVeE1pSXNJbXRwWkNJNklqUXpNakVpTENKMGVYQWlPaUpLVjFRaWZRLmV5SmhkV1FpT2lKb2RIUndjem92TDJGd2FTMXViMjFoZEd4ekxtRndhV05sYm5SeVpTNXRhV1JrYkdWM1lYSmxMbU52TG01NkwyOWhkWFJvTDNZeUxqQXZZWFYwYUc5eWFYcGxJaXdpWTJ4aGFXMXpJanA3SW1sa1gzUnZhMlZ1SWpwN0lrTnZibk5sYm5SSlpDSTZleUpsYzNObGJuUnBZV3dpT25SeWRXVXNJblpoYkhWbElqb2lZV0ZqWHpZelpXWm1NemRpWmpCa01HWXhNREF5TXpZMk1EZzJOeUo5Zlgwc0ltTnNhV1Z1ZEY5cFpDSTZJbGhQUldSamNHeE1VMkUwYnpkd05qYzFiMUpGZEVkT2EyZHpSMjFNVjFOdklpd2laWGh3SWpveE5qYzJOamN3TkRFMkxDSnBZWFFpT2pFMk56WTJOams0TVRZc0ltbHpjeUk2SWxoUFJXUmpjR3hNVTJFMGJ6ZHdOamMxYjFKRmRFZE9hMmR6UjIxTVYxTnZJaXdpYW5ScElqb2lOREpqTW1VMFlqSXRZVFV6WlMwME5XRXhMVGd5TjJJdE0ySTRabVkzWlRFMk5tTTNJaXdpYm05dVkyVWlPaUl4WVRJeFpHRTNNUzFpWVRsa0xUUTFaRFl0T0RSaU1TMHpPVEpqT1dJMVpURmpPVGtpTENKeVpXUnBjbVZqZEY5MWNta2lPaUpvZEhSd09pOHZiRzlqWVd4b2IzTjBMeUlzSW5KbGMzQnZibk5sWDNSNWNHVWlPaUpqYjJSbElHbGtYM1J2YTJWdUlpd2ljMk52Y0dVaU9pSnZjR1Z1YVdRZ1lXTmpiM1Z1ZEhNZ2NHRjViV1Z1ZEhNaUxDSnpkR0YwWlNJNkltVTNNRGhsTldRM0xUWTVNR0V0TkRobU1pMDVOalkyTFRjM1l6UXlOVEJqTldRNFpTSjkuWHppQW5abS1mU2hjOXFQY1h0dy13a2lFRFRDNVNXNy16bWpBbmJzYWhhTE1FS1p0Z3Nfb0ZvNHJUTzc2TllXTk1mZk9hUVl5TFkwTnZaUmsyM2IyanJFX2JmR2YxZ1NXYnotb2lCeGoyOVJFcldGWkdobkhtMWs0WjEzM0ZielNLTTNtRm5YMWhuV21tUmlMMFlkaWVCQXlpekVWdGdwaGM0aWNfYVl3Tk9VTlhBTVlmalFWakJFbC1VSXFDTUdNS3prU1hjR2lpTWhzMEtuZHZWTm91YjhfUjNSU04tQVNaZ3RBWkJBazhKNWpWY3gyXzJKUmVBQnVia1VsSXp5el9aUHdNZkNBQVZoemROQXUzV2psYllWS1otNnk4Uy13cFBGalpCUkF6MkpNNUEwdE9oWm10WEVuSXM3THlYTFpWZGtvMzRqRjl4MkxnVi1YQ2NCZWRtTnlLeWlHYThnWmFTbTE3eEtudjlYYmRjMDJWSVRGeFZRaTN5ckdJX09wVURzRGFYOXctWmw0UlVxN0VmWTBUU1JQMjZFbEFHX19NM1RMckVfcWpwOEw5RFAzMXBUcE9xUnhTUmxHQVUyWFF3OC1GN01meVEyVlljYU9CVXlHd3Y0d1kwdXlBemUwWDlvcUUzQXVTQTRaZXFKNTJfM3FhUDZQNXhJN0lBbWVmN0drZk1nRE9pZmxJR19lYmoyUWtGSktGcGxLbG4ydkRmWmk0b3UySjB4MGl1MlktRTIxM1VldDFnbDdFb3phWm1Ob1JQTlFyMkxqbW1LZkxvVEFqamxFOUlGMGVDTHJWMm5tSUt0dmsxTFIwMDk1MGlVQ3gtRjRjU3dNVFFaMGdpZ2RCcVhpanphZ1pKLWFCdEdoNkJZaWRFN1Y3S2NaWG93QzNPbHdKRGsiLCJoeWJyaWRfcmVxX2lkIjoiMWEyMWRhNzEtYmE5ZC00NWQ2LTg0YjEtMzkyYzliNWUxYzk5LWFhY182M2VmZjM3YmYwZDBmMTAwMjM2NjA4NjciLCJpYXQiOjE2NzY2Njk4MTksImV4cCI6MTY3NjY3MTYxOSwiaXNzIjoiaHR0cHM6Ly9hcGktbm9tYXRscy5hcGljZW50cmUubWlkZGxld2FyZS5jby5uei8iLCJqdGkiOiJlOTc1OTVjMS1iOTI4LTQ0MTYtYmI2Yy1iYjAwMjczYzA5OGQifQ.Kt_cyVO6xrMJB5-78l1eYRWf7MSKjWx2_X2hFGBv7qnzb3SwDIDLvJ-klVtd7o1n3op0h0tcEMX1BMP3RL8zSV1AhefpbFDsA1eOcUHVIj2gF-3czw3QFhJLYq4-Ri94cg-QR6gc-auhsZd4_ukK-p9hpvWCsTsO6pCptqWM0JT4yWqLPsS1-nNMeQj2-rouI4QcIe1tQbjRy5abwMUc75hg9osZRJ-etU5o8heu7DF94R0gEDun17tE4R1D4rTkwkd84xl3spA2xVVMmHf54n8ym1wmv_XQnW8930mjrqxGkb1DEThl4t3Nxkybs6cllepCwlbdpK-9IUB_2tilXJzGdlpQTJsed63vLbVOOM2oxYd6jGQm9rZf-Y5iPsmC5Bs59dMYL2dTTjgmfpDgFu4m8ACSW-XQF-fAiMYjsh58jG9YFzj6G2QLDKfKGJvSFDJpsMW3CE2E7xtkzhici3odTRR9BFF86QOKwqebeYrYOTzoX4lzpnRu2Wyfja9akgFK-D6H7PiucL2f0KiB-HzcxaxuNEDOE_rd0dnqgamowEIS70kpVuh_LAlVLZ1SJWC5KZ18UZpNiI-OSGpwarMt8DDKvaCV8UHR78oKY_MIPg1etCmz8l9hqLIUJyPheLqjGO6kGTd52GbFi9aQAKNjfJvlGIhx61hheyxmfyc"

# accounts = urllib.urlencode("[\"OBA-99-1545-7950282-00\",\"OBA-99-1545-7950282-01\",\"OBA-99-1545-7950282-02\"],\"OBA-99-1545-7950282-03\"")

consentPayload = {
        "accounts": '["OBA-99-1545-7950282-00","OBA-99-1545-7950282-01","OBA-99-1545-7950282-02","OBA-99-1545-7950282-03"]',
        "SubmitType" : "allow",
        "oba_request": obaRequest
    }

# consentPayload = {
#         "accounts": [
#             "OBA-99-1545-7950282-00",
#             "OBA-99-1545-7950282-01",
#             "OBA-99-1545-7950282-02",
#             "OBA-99-1545-7950282-03"
#         ] ,
#         "SubmitType" : "allow",
#         "oba_request": obaRequest
#     }

consentResponse = requests.post("http://elfin:8765", data=consentPayload)